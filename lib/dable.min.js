/*! Dable v1.2.1 (https://github.com/deltreey/Dable) */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Dable",t):e.Dable=t()}(this,function(){"use strict";function e(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&("object"==typeof r[i]&&null!==r[i]?t[i]=e(r[i].constructor(),r[i]):t[i]=r[i]);return t}function t(e,t){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments,0);return e.apply(t,r.concat(i))}}function r(e){return function(){e.sortFunc(this)}}function i(e){return function(){e.searchFunc(this)}}function s(){}function o(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1}function n(e){e.removeAttribute("style");var t=e.children;if(t&&t.length>0)for(var r=0;r<t.length;++r)n(t[r])}function a(e){var t;"createEvent"in document?((t=document.createEvent("KeyboardEvent")).initEvent("keyup",!0,!0,window,!1,!1,!1,!1,38,38),e.dispatchEvent(t)):((t=document.createEventObject("KeyboardEvent")).keyCode=38,e.fireEvent("onkeyup",t))}function l(e){for(var t="",r=3;r>=0;r--)t+=String.fromCharCode(e>>8*r&255);return t}function h(e){var t=q.exec(e);if(t){var r=("0"+t[1]).slice(-2),i=("0"+t[2]).slice(-2);return("20"+t[3]).slice(-4)+r+i}}function u(e,t){S=!1;var r=h(e);r?R.push({index:t,sortkey:r}):A=!1}function c(e,t){var r=parseInt(e,10);"nan"===r.toString().toLowerCase()?(S=!1,A=!1):e===r.toString()?(A=!1,R.push({index:t,sortkey:l(r)})):u(e,t)}function d(e,t){for(var r=0;(S||A)&&r<t.length;)c(t[r].Row[e].toString(),r),r+=1}function p(e,t){return t.sort(function(t,r){return t.Row[e]>r.Row[e]?C:t.Row[e]<r.Row[e]?-C:0})}function b(e){for(var t=[],r=0;r<R.length;r++)t.push(e[R[r].index]);return t}function f(e){return R.sort(function(e,t){return e.sortkey>t.sortkey?C:e.sortkey<t.sortkey?-C:0}),b(e)}function g(){var e=M.cloneNode(!1),r=U.cloneNode(!1);return r.innerHTML="First",e.setAttribute("class",this.pagerButtonsClass),e.id=this.id+"_page_first",this.pageNumber<=0?(e.setAttribute("disabled","disabled"),e.onclick=s):e.onclick=t(this.FirstPage,this),e.appendChild(r),e}function y(){var e=M.cloneNode(!1),r=U.cloneNode(!1);return r.innerHTML="Prev",e.setAttribute("class",this.pagerButtonsClass),e.id=this.id+"_page_prev",this.pageNumber<=0?(e.setAttribute("disabled","disabled"),e.onclick=s):e.onclick=t(this.PreviousPage,this),e.appendChild(r),e}function m(){var e=M.cloneNode(!1),r=U.cloneNode(!1);return r.innerHTML="Next",e.setAttribute("class",this.pagerButtonsClass),e.id=this.id+"_page_next",this.NumberOfPages()-1==this.pageNumber?(e.setAttribute("disabled","disabled"),e.onclick=s):e.onclick=t(this.NextPage,this),e.appendChild(r),e}function v(){var e=M.cloneNode(!1),r=U.cloneNode(!1);return r.innerHTML="Last",e.setAttribute("class",this.pagerButtonsClass),e.id=this.id+"_page_last",this.NumberOfPages()-1==this.pageNumber?(e.setAttribute("disabled","disabled"),e.onclick=s):e.onclick=t(this.LastPage,this),e.appendChild(r),e}function w(t){e(this,w.defaults),this.BuildAll(t)}var C,S,A,R,N=function(e){var t;t=0===this.rowObjects.length?0:this.rowObjects[this.rowObjects.length-1].RowNumber+1,this.rows.push(e),this.rowObjects.push({Row:e,RowNumber:t}),a(document.querySelector("#"+this.id+"_search"))},O=function(e){this.dableClass&&e.setAttribute("class",this.dableClass);var t=e.querySelector("table");t.setAttribute("style","width: 100%;"),this.tableClass&&t.setAttribute("class",this.tableClass);for(var r=e.querySelectorAll("."+this.oddRowClass),i=0;i<r.length;++i)r[i].setAttribute("style","background-color: "+this.oddRowColor);for(var s=e.querySelectorAll("."+this.evenRowClass),o=0;o<s.length;++o)s[o].setAttribute("style","background-color: "+this.evenRowColor);for(var n=e.querySelectorAll("tbody td"),a=0;a<n.length;++a)n[a].setAttribute("style","padding: 5px;");for(var l=e.querySelectorAll("th"),h=0;h<l.length;++h)l[h].setAttribute("style","padding: 5px;"),l[h].children[0].setAttribute("style","float: left"),!1!==this.columnData[h].CustomSortFunc?(l[h].children[1].setAttribute("style","float: right"),l[h].children[2].setAttribute("style","clear: both;"),l[h].onmouseover=function(){this.setAttribute("style","padding: 5px; cursor: pointer")},l[h].onmouseout=function(){this.setAttribute("style","padding: 5px; cursor: default")}):l[h].children[1].setAttribute("style","clear: both;");var u=e.querySelector("#"+this.id+"_header");u.setAttribute("style","padding: 5px;"),this.headerClass&&u.setAttribute("class",this.headerClass),u.children[0].setAttribute("style","float: left;"),u.children[1].setAttribute("style","float: right;"),u.children[2].setAttribute("style","clear: both;");var c=e.querySelector("#"+this.id+"_footer");c.setAttribute("style","padding: 5px;"),this.footerClass&&c.setAttribute("class",this.footerClass),c.children[0].setAttribute("style","float: left;"),c.children[2].setAttribute("style","clear: both;");var d=c.children[1];d.setAttribute("style","float: right; list-style: none;");for(var p=d.querySelectorAll("li"),b=0;b<p.length;++b)p[b].setAttribute("style","display: inline; margin-right: 5px;")},L=function(e){if(!e)return!1;var t=document.createElement("span"),r=e.querySelector("#"+this.id+"_header"),i=e.querySelector("#"+this.id+"_footer"),s=e.querySelector("table");s.setAttribute("class","table table-bordered table-striped"),s.setAttribute("style","width: 100%; margin-bottom: 0;"),r.setAttribute("class","panel-heading"),i.setAttribute("class","panel-footer"),e.setAttribute("class","panel panel-info"),e.setAttribute("style","margin-bottom: 0;");for(var o=s.querySelectorAll("tbody tr"),a=0;a<o.length;++a)o[a].removeAttribute("style");for(var l=s.querySelectorAll("th"),h=0;h<l.length;++h){var u=l[h].querySelector("."+this.sortClass);u&&(9660==u.innerText.charCodeAt(0)?u.setAttribute("class",this.sortClass+" glyphicon glyphicon-chevron-down"):9650==u.innerText.charCodeAt(0)&&u.setAttribute("class",this.sortClass+" glyphicon glyphicon-chevron-up"),u.innerHTML="")}for(var c="btn btn-default "+this.pagerButtonsClass,d=i.querySelector("#"+this.id+"_page_prev"),p=i.querySelector("#"+this.id+"_page_next"),b=d.parentElement,f=i.querySelectorAll("li"),g=0;g<f.length;++g)n(f[g]);b.setAttribute("class","btn-group"),d.innerHTML="";var y=t.cloneNode(!1);y.setAttribute("class","glyphicon glyphicon-arrow-left"),d.appendChild(y),p.innerHTML="";var m=t.cloneNode(!1);if(m.setAttribute("class","glyphicon glyphicon-arrow-right"),p.appendChild(m),this.pagerIncludeFirstAndLast){var v=i.querySelector("#"+this.id+"_page_first"),w=i.querySelector("#"+this.id+"_page_last");v.innerHTML="";var C=t.cloneNode(!1);C.setAttribute("class","glyphicon glyphicon-fast-backward"),v.appendChild(C),w.innerHTML="";var S=t.cloneNode(!1);S.setAttribute("class","glyphicon glyphicon-fast-forward"),w.appendChild(S)}for(var A=i.querySelectorAll("."+this.pagerButtonsClass),R=0;R<A.length;++R)A[R].setAttribute("class",c)},T=function(e){if(!e)return!1;var t=e.querySelector("#"+this.id+"_header"),r=e.querySelector("#"+this.id+"_footer"),i=document.createElement("span");t.setAttribute("class","fg-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix");for(var s=e.querySelectorAll("th"),o=0;o<s.length;++o){s[o].setAttribute("class","ui-state-default");var a=s[o].querySelector("."+this.sortClass);a&&(9660==a.innerText.charCodeAt(0)?a.setAttribute("class",this.sortClass+" ui-icon ui-icon-triangle-1-s"):9650==a.innerText.charCodeAt(0)&&a.setAttribute("class",this.sortClass+" ui-icon ui-icon-triangle-1-n"),a.innerHTML="")}for(var l=r.querySelectorAll("li"),h=0;h<l.length;++h)n(l[h]);r.setAttribute("class","fg-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix");for(var u="fg-button ui-button ui-state-default ui-corner-left "+this.pagerButtonsClass,c=r.querySelectorAll("."+this.pagerButtonsClass),d=0;d<c.length;++d)c[d].setAttribute("class",u);var p=r.querySelector("#"+this.id+"_page_prev");p.innerHTML="";var b=i.cloneNode(!1);b.setAttribute("class","ui-icon ui-icon-circle-arrow-w"),p.appendChild(b),p.getAttribute("disabled")&&p.setAttribute("class",u+" ui-state-disabled");var f=r.querySelector("#"+this.id+"_page_next");f.innerHTML="";var g=i.cloneNode(!1);if(g.setAttribute("class","ui-icon ui-icon-circle-arrow-e"),f.appendChild(g),f.getAttribute("disabled")&&f.setAttribute("class",u+" ui-state-disabled"),this.pagerIncludeFirstAndLast){var y=r.querySelector("#"+this.id+"_page_first"),m=r.querySelector("#"+this.id+"_page_last");y.innerHTML="";var v=i.cloneNode(!1);v.setAttribute("class","ui-icon ui-icon-arrowthickstop-1-w"),y.appendChild(v),m.innerHTML="";var w=i.cloneNode(!1);w.setAttribute("class","ui-icon ui-icon-arrowthickstop-1-e"),m.appendChild(w)}},E=function(e){e||(e=t(function(e){if(e)throw e;this.UpdateDisplayedRows(),this.UpdateStyle()},this));var r=!0;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(r=!1),this.asyncRequest(this.asyncStart,this.currentFilter,this.sortColumn,r,e)},_=function(e,t,r,i,s){var o=this;void 0===s&&(s=!1);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&200==n.status){var t=JSON.parse(n.responseText),r=t;"undefined"==typeof t.rows&&(r=JSON.parse(t.d));var i=r.rows;if(void 0===i){if(console.error("Error, no rows in data from source"),s)return s("Error, no rows in data from source");return}if("undefined"==typeof r.includedRowCount){if(console.error("Error, no includedRowCount in data from source"),s)return s("Error, no includedRowCount in data from source");return}if("undefined"==typeof r.rowCount){if(console.error("Error, no rowCount in data from source"),s)return s("Error, no rowCount in data from source");return}i.reverse();for(var a=0;a<e;++a)i.push([]);i.reverse();for(var l=e+o.asyncLength;l<r.includedRowCount;++l)i.push([]);o.SetDataAsRows(i),this.RowCount=function(){return r.rowCount},this.VisibleRowCount=function(){return r.includedRowCount},!1!==s&&Boolean(s&&s.call&&s.apply)&&s()}},n.open("POST",this.async,!1!==s),n.setRequestHeader("content-type","application/json");var a=JSON.parse(JSON.stringify(this.asyncData));a.start=e,this.asyncStart=e,a.count=this.asyncLength,a.filter=t,a.sortColumn=null===r?-1:r,a.ascending=i,n.send(JSON.stringify(a))},q=/^(\d{1,2})[\/-](\d{1,2})[\/-](\d{2}(?:\d{2})?)$/,j=function(e,t,r){return S=!0,A=!0,R=[],d(e,r),C=-1,t&&(C=1),S||A?f(r):p(e,r)},F=function(e){var r=this.CheckForTable(e);if(!r)return!1;var i=document.getElementById(r);if(!i)return!1;if(this.async)this.asyncRequest(0,"",-1,!0,t(function(e){if(e)throw e;i.innerHTML="";var t=this.BuildHeader(i),r=this.BuildTable(i),s=this.BuildFooter(i);i.appendChild(t),i.appendChild(r),i.appendChild(s),this.UpdateStyle(i)},this));else{i.innerHTML="";var s=this.BuildHeader(i),o=this.BuildTable(i),n=this.BuildFooter(i);i.appendChild(s),i.appendChild(o),i.appendChild(n),this.UpdateStyle(i)}},B=function(e){if(!e)return!1;var t=document.createElement("div"),r=document.createElement("span"),i=t.cloneNode(!1),s=r.cloneNode(!1);s.id=this.id+"_showing",i.appendChild(s);var o=t.cloneNode(!1),n=t.cloneNode(!1),a=this.BuildPager(n);return n.id=this.id+"_footer",n.innerHTML="",n.appendChild(i),n.appendChild(a),n.appendChild(o),this.UpdateFooter(n)},H=function(e){if(!e)return!1;var t=document.createElement("div"),r=document.createElement("span"),s=document.createElement("select"),o=document.createElement("option"),n=document.createElement("input"),a=t.cloneNode(!1),l=r.cloneNode(!1);l.innerHTML="Show ",a.appendChild(l);for(var h=s.cloneNode(!1),u=0;u<this.pageSizes.length;++u){var c=o.cloneNode(!1);c.innerHTML=this.pageSizes[u],c.setAttribute("value",this.pageSizes[u]),h.appendChild(c)}var d=this;h.onchange=function(){var t=this.value;d.pageSize=parseInt(t,10),d.UpdateDisplayedRows(document.getElementById(d.id+"_body")),d.UpdateStyle(e)};for(var p=h.querySelectorAll("option"),b=0;b<p.length;++b)if(p[b].value==d.pageSize){p[b].selected=!0;break}a.appendChild(h);var f=t.cloneNode(!1),g=r.cloneNode(!1);g.innerHTML="Search ",f.appendChild(g);var y=n.cloneNode(!1);y.setAttribute("id",this.id+"_search"),y.onkeyup=i(this),f.appendChild(y);var m=t.cloneNode(!1),v=t.cloneNode(!1);return v.id=this.id+"_header",v.appendChild(a),v.appendChild(f),v.appendChild(m),v},D=document.createElement("ul"),M=document.createElement("li"),U=document.createElement("a"),P=function(){var e=D.cloneNode(!1);if(this.pagerIncludeFirstAndLast&&e.appendChild(g.call(this)),e.appendChild(y.call(this)),this.pagerSize>0){var r=this.pageNumber-parseInt(this.pagerSize/2,10),i=r+this.pagerSize;this.pageNumber<=this.pagerSize/2?(r=0,(i=this.pagerSize)>this.NumberOfPages()&&(i=this.NumberOfPages())):this.NumberOfPages()-this.pageNumber<=this.pagerSize/2&&(i=this.NumberOfPages(),r=this.NumberOfPages()-this.pagerSize);for(var o=r;o<i;++o){var n=M.cloneNode(!1),a=U.cloneNode(!1);a.innerHTML=(o+1).toString(),n.onclick=t(this.GoToPage,this,o),n.setAttribute("class",this.pagerButtonsClass),o==this.pageNumber&&(n.setAttribute("disabled","disabled"),n.onclick=s),n.appendChild(a),e.appendChild(n)}}return e.appendChild(m.call(this)),this.pagerIncludeFirstAndLast&&e.appendChild(v.call(this)),e},k=function(e){if(!e)return!1;for(var t=document.createElement("table"),i=document.createElement("thead"),s=document.createElement("th"),o=document.createElement("tbody"),n=document.createElement("tr"),a=document.createElement("span"),l=n.cloneNode(!1),h=0;h<this.columnData.length;++h){var u=s.cloneNode(!1),c=a.cloneNode(!1);if(c.innerHTML=this.columnData[h].FriendlyName+" ",u.appendChild(c),!1!==this.columnData[h].CustomSortFunc){var d=a.cloneNode(!1);d.setAttribute("class",this.sortClass),d.innerHTML="v",u.appendChild(d),u.onclick=r(this)}var p=a.cloneNode(!1);u.appendChild(p),u.setAttribute("data-tag",this.columnData[h].Tag),l.appendChild(u)}if(i.appendChild(l),t.appendChild(i),this.visibleRows=this.rows.slice(0),this.visibleRowObjects=this.rowObjects.slice(0),o=this.UpdateDisplayedRows(o),o.id=this.id+"_body",t.appendChild(o),this.tfoothtml){var b=document.createElement("tfoot");b.innerHTML=this.tfoothtml,t.appendChild(b)}return t},x=function(e){if(e){e.nodeType&&"div"==e.nodeName.toLowerCase()?e.hasAttribute("id")?this.id=e.getAttribute("id"):(this.id="Dable1",e.setAttribute("id","Dable1")):window.jQuery&&e instanceof jQuery&&e[0].nodeType?e[0].hasAttribute("id")?this.id=e[0].getAttribute("id"):(this.id="Dable1",e[0].setAttribute("id","Dable1")):this.id=e.toString();var t=document.getElementById(this.id);if(t&&this.rows&&this.rows.length<1){var r=t.querySelector("table");if(r)
//Make it a Dable!
return t.hasAttribute("class")&&(this.dableClass=t.getAttribute("class")),this.GenerateTableFromHtml(r)}return this.id}return!1},I={id:"",columns:[],rows:[],rowObjects:[],visibleRows:[],visibleRowObjects:[],hiddenColumns:[],currentFilter:"",sortColumn:null,sortOrder:"descending",minimumSearchLength:1,columnData:[],pageNumber:0,pageSize:10,pageSizes:[10,25,50,100],pagerSize:0,pagerIncludeFirstAndLast:!1,async:!1,asyncData:{},asyncStart:0,asyncLength:1e3,tfoothtml:"",style:"none",evenRowColor:"#E2E4FF",oddRowColor:"white",dableClass:"",headerClass:"",tableClass:"",sortClass:"table-sort",evenRowClass:"table-row-even",oddRowClass:"table-row-odd",footerClass:"",pagerButtonsClass:"table-page"},z=function(e){for(var t=0;t<this.rowObjects.length;++t)if(this.rowObjects[t].RowNumber==e){this.rowObjects.splice(t,1),this.rows=this.CreateRowsFromObjects(this.rowObjects);break}for(var r=0;r<this.visibleRowObjects.length;++r)this.visibleRowObjects[r].RowNumber==e&&(this.visibleRowObjects.splice(r,1),this.visibleRows=this.CreateRowsFromObjects(this.visibleRowObjects));a(document.querySelector("#"+this.id+"_search"))},V=function(e){var t=!1,r="";return e?e&&e.nodeType&&"div"==e.nodeName.toLowerCase()?r=e.id:e&&window.jQuery&&e instanceof jQuery&&e[0].nodeType?r=e[0].id:e&&(r=e):r=this.id,r+="_header",document.getElementById(r)&&(t=!0),t},G=[function(e,t){e=e.toString().toLowerCase(),t=t.toString().toLowerCase();for(var r,i=[],s=/\s*".*?"\s*/g;r=s.exec(e);){var o=r[0].replace(/"/g,"").trim();i.push(o),e=e.replace(r[0]," ")}for(var n=0;n<i.length;++n)if(t.indexOf(i[n])>-1)return!0;return!1},function(e,t){e=e.toString().toLowerCase(),t=t.toString().toLowerCase();for(var r,i=/\s*".*?"\s*/g;r=i.exec(e);)e=e.replace(r[0]," ");for(var s=e.split(" "),o=0;o<s.length;++o)s[o]||(s.splice(o,1),o-=1);for(var n=0;n<s.length;++n)if(t.indexOf(s[n])>-1)return!0;return!1}],J=function(e){if(!e)return console.error("Dable Error: No HTML table to generate dable from"),!1;e.hasAttribute("class")&&(this.tableClass=e.getAttribute("class"));var t=e.querySelector("thead");if(!t)return console.error("Dable Error: No thead element in table"),!1;var r=t.querySelectorAll("tr th"),i=e.querySelector("tfoot");i&&(this.tfoothtml=i.innerHTML);for(var s=[],o=0;o<r.length;++o)s.push(r[o].innerHTML);this.SetColumnNames(s);var n=e.querySelector("tbody").rows,a=[];n.length>1&&n[0].hasAttribute("class")&&n[1].hasAttribute("class")&&(this.evenRowClass=n[0].getAttribute("class"),this.oddRowClass=n[1].getAttribute("class"));for(var l=0;l<n.length;++l){a.push([]);for(var h=n[l].children,u=0;u<h.length;++u)a[l].push(h[u].innerHTML)}this.SetDataAsRows(a);var c=e.parentElement;return c.innerHTML="",c.id},Q=function(e){if(this.pageNumber=e,this.async&&(this.asyncStart>this.pageNumber*this.pageSize||this.pageNumber*this.pageSize>=this.asyncStart+this.asyncLength)){var r=this.pageNumber*this.pageSize,i=!0;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(i=!1),this.asyncRequest(r,this.currentFilter,this.sortColumn,i,t(function(e){if(e)throw e;this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},this))}else this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},K=function(){if(this.pageNumber=this.NumberOfPages()-1,this.async&&(this.asyncStart>this.pageNumber*this.pageSize||this.pageNumber*this.pageSize>this.asyncStart+this.asyncLength)){var e=0,r=1e3/this.pageSize-1;this.pageNumber-r>-1&&(e=(this.pageNumber-r)*this.pageSize);var i=!0;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(i=!1),this.asyncRequest(e,this.currentFilter,this.sortColumn,i,t(function(e){if(e)throw e;this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},this))}else this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},X=function(e){e.removeAttribute("class");for(var t=e.children,r=0;r<t.length;++r)t[r].removeAttribute("class");for(var i=t[0].children,s=0;s<i.length;++s)i[s].removeAttribute("class");var o=t[1],a=o.children[0];a.removeAttribute("class"),a.children[0].removeAttribute("class");for(var l=a.children[0].children,h=0;h<l.length;++h)l[h].removeAttribute("class");for(var u=e.querySelectorAll("."+this.sortClass),c=0;c<u.length;++c)u[c].innerHTML="",u[c].setAttribute("class",this.sortClass),u[c].parentElement.cellIndex===this.sortColumn&&(u[c].innerHTML="&#9650;","desc"==this.sortOrder.toLowerCase().substr(0,4)&&(u[c].innerHTML="&#9660;"));var d=o.children[1];d.removeAttribute("class");for(var p=t[2],b=p.children[0].children,f=0;f<b.length;++f)b[f].removeAttribute("class");var g=p.querySelector("#"+this.id+"_page_prev").parentElement;p.replaceChild(this.BuildPager(),g),e.removeAttribute("style"),n(t[0]),t[1].removeAttribute("style"),n(t[2]),n(a),n(d)},$=function(e){if(e.id!=this.id+"_search")return!1;if(!e.value||e.value.length<this.minimumSearchLength)this.currentFilter="";else{var r=e.value;this.currentFilter=r}if(this.async){var i=!0;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(i=!1),this.asyncRequest(0,this.currentFilter,this.sortColumn,i,t(function(e){if(e)throw e;var t=document.getElementById(this.id+"_body");this.UpdateDisplayedRows(t),this.UpdateStyle(document.getElementById(this.id))},this))}else{var s=[],n=[];if(this.currentFilter){for(var a=0;a<this.filters.length;++a)for(var l=0;l<this.rows.length;++l)if(!o(s,this.rows[l]))for(var h=0;h<this.rows[l].length;++h)if(this.filters[a](this.currentFilter,this.rows[l][h])){s.push(this.rows[l]),n.push(this.rowObjects[l]);break}}else s=this.rows,n=this.rowObjects;this.visibleRows=s,this.visibleRowObjects=n;var u=document.getElementById(this.id+"_body");this.UpdateDisplayedRows(u),this.UpdateStyle(document.getElementById(this.id))}},W=function(e){if(!e)return!1;for(var t=0;t<e.length;++t)this.columnData.length<=t?this.columnData.push({Tag:e[t],FriendlyName:e[t],CustomSortFunc:null,CustomRendering:null}):this.columnData[t].Name=e[t]},Y=function(e){if(!e)return!1;for(var t=[],r=0;r<e.length;++r){for(;t.length<e[r].length;)t.push([]);for(var i=0;i<e[r].length;++i)t[i][r]=e[r][i]}this.columns=e,this.rows=t,this.rowObjects=this.CreateObjectsFromRows(t),this.visibleRows=this.rows.slice(0),this.visibleRowObjects=this.rowObjects.slice(0)},Z=function(e){if(!e)return!1;for(var t=[],r=0;r<e.length;++r){for(;t.length<e[r].length;)t.push([]);for(var i=0;i<e[r].length;++i)t[i][r]=e[r][i]}this.columns=t,this.rows=e,this.rowObjects=this.CreateObjectsFromRows(e),this.visibleRows=e.slice(0),this.visibleRowObjects=this.rowObjects.slice(0)},ee=function(e){var r=e.tagName;if("INPUT"!=r&&"BUTTON"!=r&&"SELECT"!=r&&"TEXTAREA"!=r){for(var i=e.querySelector("."+this.sortClass),s=e.getAttribute("data-tag"),o=-1,n=0;n<this.columnData.length;++n)if(this.columnData[n].Tag.toLowerCase()==s.toLowerCase()){o=n;break}if(-1==o)return!1;this.sortColumn=o;var a=!1;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(a=!0),a?(this.sortOrder="asc",i.innerHTML="^"):(this.sortOrder="desc",i.innerHTML="v"),this.async?this.asyncRequest(this.asyncStart,this.currentFilter,o,a,t(function(e){if(e)throw e;this.visibleRows=this.CreateRowsFromObjects(this.visibleRowObjects),this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},this)):this.columnData[o].CustomSortFunc?(this.visibleRowObjects=this.columnData[o].CustomSortFunc(o,a,this.visibleRowObjects),this.visibleRows=this.CreateRowsFromObjects(this.visibleRowObjects),this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()):(this.visibleRowObjects=this.baseSort(o,a,this.visibleRowObjects),this.visibleRows=this.CreateRowsFromObjects(this.visibleRowObjects),this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle())}},te=function(e){if(!e&&!(e=document.getElementById(this.id+"_body")))return!1;for(var t=e.cloneNode(!1);t.firstChild;)t.removeChild(t.firstChild);var r=document.createElement("tr"),i=document.createElement("td"),s=this.pageNumber*this.pageSize;this.VisibleRowCount()<=s&&(this.pageNumber=0,s=0);var o=s+this.pageSize;s+this.pageSize>=this.VisibleRowCount()&&(o=this.VisibleRowCount());for(var n=s;n<o;++n){var a=r.cloneNode(!1);n%2==0?a.setAttribute("class",this.evenRowClass):a.setAttribute("class",this.oddRowClass);for(var l=0;l<this.visibleRows[n].length;++l){var h=i.cloneNode(!1),u=this.visibleRows[n][l];null!==this.columnData[l].CustomRendering&&(u=this.columnData[l].CustomRendering(u,this.visibleRowObjects[n].RowNumber)),h.innerHTML=u,a.appendChild(h)}t.appendChild(a)}e.parentElement&&e.parentElement.replaceChild(t,e),e=t;var c=document.getElementById(this.id+"_footer");return this.UpdateFooter(c),e},re=function(e){if(!e)return!1;var t=this.pageNumber*this.pageSize+1,r=t+this.pageSize-1;r>this.VisibleRowCount()&&(r=this.VisibleRowCount());var i=e.querySelector("#"+this.id+"_showing");i&&(0===this.RowCount()?i.innerHTML="There are no entries":0===this.VisibleRowCount()?i.innerHTML="Showing 0 entries":i.innerHTML="Showing "+t+" to "+r+" of "+this.VisibleRowCount()+" entries",this.VisibleRowCount()!=this.RowCount()&&(i.innerHTML+=" (filtered from "+this.RowCount()+" total entries)"));var s=e.querySelector("#"+this.id+"_page_prev").parentElement;return e.replaceChild(this.BuildPager(),s),e},ie=function(e,t){if(!e&&!(e=document.getElementById(this.id)))return!1;if(t||(t=this.style),this.style=t,this.RemoveStyles(e),"clear"!=t.toLowerCase()){if(this.ApplyBaseStyles(e),"none"==t.toLowerCase())return!0;"jqueryui"==t.toLowerCase()?this.ApplyJqueryUIStyles(e):"bootstrap"==t.toLowerCase()&&this.ApplyBootstrapStyles(e)}};return"undefined"!=typeof console&&"undefined"!=typeof console.error||(console={error:function(){}}),w.defaults=I,w.prototype.RowCount=function(){return this.rows.length},w.prototype.VisibleRowCount=function(){return this.visibleRows.length},w.prototype.NumberOfPages=function(){var e=this.VisibleRowCount()/this.pageSize;return Math.ceil(e)},w.prototype.GetPageForRow=function(e){return Math.ceil(e/this.pageSize)},w.prototype.asyncRequest=_,w.prototype.asyncReload=E,w.prototype.searchFunc=$,w.prototype.sortFunc=ee,w.prototype.baseSort=j,w.prototype.filters=G,w.prototype.SetColumnNames=W,w.prototype.DeleteRow=z,w.prototype.AddRow=N,w.prototype.CreateObjectsFromRows=function(e){for(var t=[],r=0;r<e.length;++r)t.push({Row:e[r],RowNumber:r});return t},w.prototype.CreateRowsFromObjects=function(e){for(var t=[],r=0;r<e.length;++r)t.push(e[r].Row);return t},w.prototype.SetDataAsColumns=Y,w.prototype.SetDataAsRows=Z,w.prototype.UpdateDisplayedRows=te,w.prototype.UpdateFooter=re,w.prototype.UpdateStyle=ie,w.prototype.RemoveStyles=X,w.prototype.ApplyBaseStyles=O,w.prototype.ApplyJqueryUIStyles=T,w.prototype.ApplyBootstrapStyles=L,w.prototype.CheckForTable=x,w.prototype.GenerateTableFromHtml=J,w.prototype.Exists=V,w.prototype.BuildAll=F,w.prototype.BuildHeader=H,w.prototype.BuildTable=k,w.prototype.BuildFooter=B,w.prototype.BuildPager=P,w.prototype.GoToPage=Q,w.prototype.FirstPage=function(){this.pageNumber=0,this.GoToPage(this.pageNumber)},w.prototype.PreviousPage=function(){this.pageNumber-=1,this.GoToPage(this.pageNumber)},w.prototype.NextPage=function(){this.pageNumber+=1,this.GoToPage(this.pageNumber)},w.prototype.LastPage=K,w});