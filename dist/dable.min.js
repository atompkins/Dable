/*! dable v1.2.1 (https://github.com/deltreey/Dable) */
(function(){var a={},b=function(b,c){a[b]={exporter:c,ready:!1}},c=function(b){var d=a[b];return d&&!d.ready&&(d.exports={},d.exporter.call(null,c,d,d.exports),d.ready=!0),d&&d.exports};b("./utils",function(a,b,c){c.mixin=function(a,b){for(var c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];a[e]=b[e]}},c.bind=function(a,b){return function(){var c=Array.prototype.slice.call(arguments,0);return a.apply(b,c)}},c.doSort=function(a){return function(){a.sortFunc(this)}},c.doSearch=function(a){return function(){a.searchFunc(this)}},c.noop=function(){}}),function(a){function b(a){a.removeAttribute("style");var c=a.children;if(c&&c.length>0)for(var d=0;d<c.length;++d)b(c[d])}var d=c("./utils"),Dable=function(a){d.mixin(this,Dable.defaults),this.BuildAll(a)};Dable.defaults={id:"",columns:[],rows:[],rowObjects:[],visibleRows:[],visibleRowObjects:[],hiddenColumns:[],currentFilter:"",sortColumn:null,sortOrder:"descending",minimumSearchLength:1,columnData:[],pageNumber:0,pageSize:10,pageSizes:[10,25,50,100],pagerSize:0,pagerIncludeFirstAndLast:!1,async:!1,asyncData:{},asyncStart:0,asyncLength:1e3,tfoothtml:"",
//Basic Styling
style:"none",evenRowColor:"#E2E4FF",oddRowColor:"white",
//Classes
dableClass:"",headerClass:"",tableClass:"",sortClass:"table-sort",evenRowClass:"table-row-even",oddRowClass:"table-row-odd",footerClass:"",pagerButtonsClass:"table-page"},Dable.prototype.RowCount=function(){return this.rows.length},Dable.prototype.VisibleRowCount=function(){return this.visibleRows.length},Dable.prototype.NumberOfPages=function(){var a=this.VisibleRowCount()/this.pageSize;return Math.ceil(a)},Dable.prototype.GetPageForRow=function(a){return Math.ceil(a/this.pageSize)},Dable.prototype.asyncRequest=function(a,b,c,d,e){
//callback if async
var f=this;"undefined"==typeof e&&(e=!1);var g=new XMLHttpRequest;g.onreadystatechange=function(){if(4==g.readyState&&200==g.status){var b=JSON.parse(g.responseText),c=b;void 0===b.rows&&(c=JSON.parse(b.d));var d=c.rows;if(void 0===d){if(//need rows in return data
console.error("Error, no rows in data from source"),e)return e("Error, no rows in data from source");return}if(void 0===c.includedRowCount){if(//need filtered row count in data
console.error("Error, no includedRowCount in data from source"),e)return e("Error, no includedRowCount in data from source");return}if(void 0===c.rowCount){if(//need filtered row count in data
console.error("Error, no rowCount in data from source"),e)return e("Error, no rowCount in data from source");return}
//create empty rows for the rest of the set
d.reverse();for(var h=0;h<a;++h)d.push([]);d.reverse();for(var h=a+f.asyncLength;h<c.includedRowCount;++h)d.push([]);
//update
f.SetDataAsRows(d),this.RowCount=function(){return c.rowCount},this.VisibleRowCount=function(){return c.includedRowCount},e!==!1&&e&&e.call&&e.apply&&e()}},g.open("POST",this.async,e!==!1),g.setRequestHeader("content-type","application/json");var h=JSON.parse(JSON.stringify(this.asyncData));h.start=a,this.asyncStart=a,h.count=this.asyncLength,h.filter=b,h.sortColumn=null===c?-1:c,h.ascending=d,g.send(JSON.stringify(h))},Dable.prototype.asyncReload=function(a){a||(a=d.bind(function(a){if(a)throw a;this.UpdateDisplayedRows(),this.UpdateStyle()},this));var b=!0;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(b=!1),this.asyncRequest(this.asyncStart,this.currentFilter,this.sortColumn,b,a)},Dable.prototype.searchFunc=function(a){if(a.id!=this.id+"_search")return!1;if(!a.value||a.value.length<this.minimumSearchLength)this.currentFilter="";else{var b=a.value;this.currentFilter=b}if(this.async){var c=!0;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(c=!1),this.asyncRequest(0,this.currentFilter,this.sortColumn,c,d.bind(function(a){if(a)throw a;var b=document.getElementById(this.id+"_body");this.UpdateDisplayedRows(b),this.UpdateStyle(document.getElementById(this.id))},this))}else{var e=[],f=[];if(this.currentFilter){for(var g=0;g<this.filters.length;++g)for(var h=0;h<this.rows.length;++h)if(!(e.indexOf(this.rows[h])>-1))for(var i=0;i<this.rows[h].length;++i)if(this.filters[g](this.currentFilter,this.rows[h][i])){e.push(this.rows[h]),f.push(this.rowObjects[h]);break}}else e=this.rows,f=this.rowObjects;this.visibleRows=e,this.visibleRowObjects=f;var j=document.getElementById(this.id+"_body");this.UpdateDisplayedRows(j),this.UpdateStyle(document.getElementById(this.id))}},Dable.prototype.sortFunc=function(a){var b=a.tagName;
//prevent sorting from some form elements
if("INPUT"!=b&&"BUTTON"!=b&&"SELECT"!=b&&"TEXTAREA"!=b){for(var c=a.querySelector("."+this.sortClass),e=a.getAttribute("data-tag"),f=-1,g=0;g<this.columnData.length;++g)if(this.columnData[g].Tag.toLowerCase()==e.toLowerCase()){f=g;break}if(f==-1)return!1;this.sortColumn=f;var h=!1;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(h=!0),h?(this.sortOrder="asc",c.innerHTML="^"):(this.sortOrder="desc",c.innerHTML="v"),this.async?this.asyncRequest(this.asyncStart,this.currentFilter,f,h,d.bind(function(a){if(a)throw a;this.visibleRows=this.CreateRowsFromObjects(this.visibleRowObjects),this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},this)):this.columnData[f].CustomSortFunc?(this.visibleRowObjects=this.columnData[f].CustomSortFunc(f,h,this.visibleRowObjects),this.visibleRows=this.CreateRowsFromObjects(this.visibleRowObjects),this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()):(this.visibleRowObjects=this.baseSort(f,h,this.visibleRowObjects),this.visibleRows=this.CreateRowsFromObjects(this.visibleRowObjects),this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle())}},Dable.prototype.baseSort=function(a,b,c){for(var d=!0,e=!0,f=c.slice(0),g=0;g<c.length;++g){
//simple 2/21/2010 style dates parse cleanly to int, so we can drop out
//if this won't parse
"nan"==parseInt(c[g].Row[a]).toString().toLowerCase()&&(d=!1);
//check for dates
var h=c[g].Row[a].toString(),i=h.split("/");(3!=i.length||i[0].length<1||i[0].length>2||i[1].length<1||i[1].length>2||2!=i[2].length&&4!=i[2].length)&&(e=!1)}return f=e?f.sort(function(b,c){
//default to US Date schema
var d=b.Row[a].split("/"),e=d[2].toString(),f=d[0].toString(),g=d[1].toString();2==e.length&&(e="20"+e),1==f.length&&(f="0"+f),1==g.length&&(g="0"+g);var h=e+f+g,i=c.Row[a].split("/"),j=i[2].toString(),k=i[0].toString(),l=i[1].toString();2==j.length&&(j="20"+j),1==k.length&&(k="0"+k),1==l.length&&(l="0"+l);var m=j+k+l;return parseInt(h)-parseInt(m)}):d?f.sort(function(b,c){return parseInt(b.Row[a])-parseInt(c.Row[a])}):f.sort(function(b,c){return b.Row[a]>c.Row[a]?1:b.Row[a]<c.Row[a]?-1:0}),b||(f=f.reverse()),f},Dable.prototype.filters=[//PHRASES FILTER
function(a,b){a=a.toString().toLowerCase(),b=b.toString().toLowerCase();for(var c,d=[],e=/\s*".*?"\s*/g;c=e.exec(a);){var f=c[0].replace(/"/g,"").trim();d.push(f),a=a.replace(c[0]," ")}for(var g=0;g<d.length;++g)if(b.indexOf(d[g])>-1)return!0;return!1},//WORDS FILTER, IGNORING PHRASES
function(a,b){a=a.toString().toLowerCase(),b=b.toString().toLowerCase();for(var c,d=/\s*".*?"\s*/g;c=d.exec(a);)a=a.replace(c[0]," ");for(var e=a.split(" "),f=0;f<e.length;++f)e[f]||(//clear out empty strings
e.splice(f,1),--f);for(var f=0;f<e.length;++f)if(b.indexOf(e[f])>-1)return!0;return!1}],Dable.prototype.SetColumnNames=function(a){if(!a)return!1;for(var b=0;b<a.length;++b)this.columnData.length<=b?this.columnData.push({Tag:a[b],FriendlyName:a[b],CustomSortFunc:null,CustomRendering:null}):this.columnData[b].Name=a[b]},Dable.prototype.DeleteRow=function(a){for(var b=0;b<this.rowObjects.length;++b)if(this.rowObjects[b].RowNumber==a){this.rowObjects.splice(b,1),this.rows=this.CreateRowsFromObjects(this.rowObjects);break}for(var b=0;b<this.visibleRowObjects.length;++b)this.visibleRowObjects[b].RowNumber==a&&(this.visibleRowObjects.splice(b,1),this.visibleRows=this.CreateRowsFromObjects(this.visibleRowObjects));var c=document.createEvent("KeyboardEvent");c.initEvent("keyup",!0,!0,window,!1,!1,!1,!1,38,38),document.querySelector("#"+this.id+"_search").dispatchEvent(c)},Dable.prototype.AddRow=function(a){this.rows.push(a),this.rowObjects.push({Row:a,RowNumber:this.rowObjects[this.rowObjects.length-1].RowNumber+1});var b=document.createEvent("KeyboardEvent");b.initEvent("keyup",!0,!0,window,!1,!1,!1,!1,38,38),document.querySelector("#"+this.id+"_search").dispatchEvent(b)},Dable.prototype.CreateObjectsFromRows=function(a){for(var b=[],c=0;c<a.length;++c)b.push({Row:a[c],RowNumber:c});return b},Dable.prototype.CreateRowsFromObjects=function(a){for(var b=[],c=0;c<a.length;++c)b.push(a[c].Row);return b},Dable.prototype.SetDataAsColumns=function(a){if(!a)return!1;for(var b=[],c=0;c<a.length;++c){for(;b.length<a[c].length;)b.push([]);for(var d=0;d<a[c].length;++d)b[d][c]=a[c][d]}this.columns=a,this.rows=b,this.rowObjects=this.CreateObjectsFromRows(b),this.visibleRows=this.rows.slice(0),this.visibleRowObjects=this.rowObjects.slice(0)},Dable.prototype.SetDataAsRows=function(a){if(!a)return!1;for(var b=[],c=0;c<a.length;++c){for(;b.length<a[c].length;)b.push([]);for(var d=0;d<a[c].length;++d)b[d][c]=a[c][d]}this.columns=b,this.rows=a,this.rowObjects=this.CreateObjectsFromRows(a),this.visibleRows=a.slice(0),this.visibleRowObjects=this.rowObjects.slice(0)},Dable.prototype.UpdateDisplayedRows=function(a){if(!a&&(a=document.getElementById(this.id+"_body"),!a))return!1;for(var b=a.cloneNode(!1);b.firstChild;)b.removeChild(b.firstChild);var c=document.createElement("tr"),d=document.createElement("td"),e=this.pageNumber*this.pageSize;this.VisibleRowCount()<=e&&(//if this is too big, go back to page 1
this.pageNumber=0,e=0);
//get the display end id
var f=e+this.pageSize;e+this.pageSize>=this.VisibleRowCount()&&(//if this is too big, only show remaining rows
f=this.VisibleRowCount());for(var g=e;g<f;++g){var h=c.cloneNode(!1);g%2===0?h.setAttribute("class",this.evenRowClass):h.setAttribute("class",this.oddRowClass);for(var i=0;i<this.visibleRows[g].length;++i){var j=d.cloneNode(!1),k=this.visibleRows[g][i];null!==this.columnData[i].CustomRendering&&(k=this.columnData[i].CustomRendering(k,this.visibleRowObjects[g].RowNumber)),j.innerHTML=k,h.appendChild(j)}b.appendChild(h)}a.parentElement&&a.parentElement.replaceChild(b,a),a=b;var l=document.getElementById(this.id+"_footer");return this.UpdateFooter(l),a},Dable.prototype.UpdateFooter=function(a){if(!a)return!1;var b=this.pageNumber*this.pageSize+1,c=b+this.pageSize-1;c>this.VisibleRowCount()&&(c=this.VisibleRowCount());var d=a.querySelector("#"+this.id+"_showing");d&&(0===this.RowCount()?d.innerHTML="There are no entries":0===this.VisibleRowCount()?d.innerHTML="Showing 0 entries":d.innerHTML="Showing "+b+" to "+c+" of "+this.VisibleRowCount()+" entries",this.VisibleRowCount()!=this.RowCount()&&(d.innerHTML+=" (filtered from "+this.RowCount()+" total entries)"));var e=a.querySelector("#"+this.id+"_page_prev").parentElement;return a.replaceChild(this.BuildPager(),e),a},Dable.prototype.UpdateStyle=function(a,b){if(!a&&(a=document.getElementById(this.id),!a))return!1;
//clear is a style option to completely avoid any styling so you can
//roll your own
if(b||(b=this.style),this.style=b,//initial style cleanup
this.RemoveStyles(a),"clear"!=b.toLowerCase()){if(//base styles for 'none', the other styles sometimes build on these
//so we apply them beforehand
this.ApplyBaseStyles(a),"none"==b.toLowerCase())return!0;"jqueryui"==b.toLowerCase()?this.ApplyJqueryUIStyles(a):"bootstrap"==b.toLowerCase()&&this.ApplyBootstrapStyles(a)}},Dable.prototype.RemoveStyles=function(a){a.removeAttribute("class");for(var c=a.children,d=0;d<c.length;++d)c[d].removeAttribute("class");for(var e=c[0],f=e.children,d=0;d<f.length;++d)f[d].removeAttribute("class");var g=c[1],h=g.children[0];h.removeAttribute("class"),h.children[0].removeAttribute("class");for(var i=h.children[0].children,d=0;d<i.length;++d)i[d].removeAttribute("class");for(var j=a.querySelectorAll("."+this.sortClass),d=0;d<j.length;++d)j[d].innerHTML="",j[d].setAttribute("class",this.sortClass),d==this.sortColumn&&(j[d].innerHTML="&#9650;","desc"==this.sortOrder.toLowerCase().substr(0,4)&&(j[d].innerHTML="&#9660;"));var k=g.children[1];k.removeAttribute("class");for(var l=c[2],m=l.children,n=m[0].children,d=0;d<n.length;++d)n[d].removeAttribute("class");var o=l.querySelector("#"+this.id+"_page_prev").parentElement;l.replaceChild(this.BuildPager(),o),//basically, don't remove style from tfoot, in case user added it
a.removeAttribute("style"),b(c[0]),c[1].removeAttribute("style"),b(c[2]),b(h),b(k)},Dable.prototype.ApplyBaseStyles=function(a){this.dableClass&&a.setAttribute("class",this.dableClass);var b=a.querySelector("table");b.setAttribute("style","width: 100%;"),this.tableClass&&b.setAttribute("class",this.tableClass);for(var c=a.querySelectorAll("."+this.oddRowClass),d=0;d<c.length;++d)c[d].setAttribute("style","background-color: "+this.oddRowColor);for(var e=a.querySelectorAll("."+this.evenRowClass),d=0;d<e.length;++d)e[d].setAttribute("style","background-color: "+this.evenRowColor);for(var f=a.querySelectorAll("tbody td"),d=0;d<f.length;++d)f[d].setAttribute("style","padding: 5px;");for(var g=a.querySelectorAll("th"),d=0;d<g.length;++d){g[d].setAttribute("style","padding: 5px;");var h=g[d].children[0];if(h.setAttribute("style","float: left"),this.columnData[d].CustomSortFunc!==!1){var i=g[d].children[1];i.setAttribute("style","float: right");var j=g[d].children[2];j.setAttribute("style","clear: both;"),g[d].onmouseover=function(){this.setAttribute("style","padding: 5px; cursor: pointer")},g[d].onmouseout=function(){this.setAttribute("style","padding: 5px; cursor: default")}}else{var j=g[d].children[1];j.setAttribute("style","clear: both;")}}var k=a.querySelector("#"+this.id+"_header");k.setAttribute("style","padding: 5px;"),this.headerClass&&k.setAttribute("class",this.headerClass);var l=k.children[0];l.setAttribute("style","float: left;");var m=k.children[1];m.setAttribute("style","float: right;");var n=k.children[2];n.setAttribute("style","clear: both;");var o=a.querySelector("#"+this.id+"_footer");o.setAttribute("style","padding: 5px;"),this.footerClass&&o.setAttribute("class",this.footerClass);var p=o.children[0];p.setAttribute("style","float: left;");var q=o.children[2];q.setAttribute("style","clear: both;");var r=o.children[1];r.setAttribute("style","float: right; list-style: none;");for(var s=r.querySelectorAll("li"),d=0;d<s.length;++d)s[d].setAttribute("style","display: inline; margin-right: 5px;")},Dable.prototype.ApplyJqueryUIStyles=function(a){if(!a)return!1;var c=a.querySelector("#"+this.id+"_header"),d=a.querySelector("#"+this.id+"_footer"),e=document.createElement("span");c.setAttribute("class","fg-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix");for(var f=a.querySelectorAll("th"),g=0;g<f.length;++g){f[g].setAttribute("class","ui-state-default");var h=f[g].querySelector("."+this.sortClass);h&&(9660==h.innerText.charCodeAt(0)?h.setAttribute("class",this.sortClass+" ui-icon ui-icon-triangle-1-s"):9650==h.innerText.charCodeAt(0)&&h.setAttribute("class",this.sortClass+" ui-icon ui-icon-triangle-1-n"),h.innerHTML="")}for(var i=d.querySelectorAll("li"),g=0;g<i.length;++g)b(i[g]);d.setAttribute("class","fg-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix");for(var j="fg-button ui-button ui-state-default ui-corner-left "+this.pagerButtonsClass,k=d.querySelectorAll("."+this.pagerButtonsClass),g=0;g<k.length;++g)k[g].setAttribute("class",j);var l=d.querySelector("#"+this.id+"_page_prev");l.innerHTML="";var m=e.cloneNode(!1);m.setAttribute("class","ui-icon ui-icon-circle-arrow-w"),l.appendChild(m),l.getAttribute("disabled")&&l.setAttribute("class",j+" ui-state-disabled");var n=d.querySelector("#"+this.id+"_page_next");n.innerHTML="";var o=e.cloneNode(!1);if(o.setAttribute("class","ui-icon ui-icon-circle-arrow-e"),n.appendChild(o),n.getAttribute("disabled")&&n.setAttribute("class",j+" ui-state-disabled"),this.pagerIncludeFirstAndLast){var p=d.querySelector("#"+this.id+"_page_first"),q=d.querySelector("#"+this.id+"_page_last");p.innerHTML="";var r=e.cloneNode(!1);r.setAttribute("class","ui-icon ui-icon-arrowthickstop-1-w"),p.appendChild(r),q.innerHTML="";var s=e.cloneNode(!1);s.setAttribute("class","ui-icon ui-icon-arrowthickstop-1-e"),q.appendChild(s)}},Dable.prototype.ApplyBootstrapStyles=function(a){if(!a)return!1;var c=(document.createElement("div"),document.createElement("span")),d=a.querySelector("#"+this.id+"_header"),e=a.querySelector("#"+this.id+"_footer"),f=a.querySelector("table");f.setAttribute("class","table table-bordered table-striped"),f.setAttribute("style","width: 100%; margin-bottom: 0;"),d.setAttribute("class","panel-heading"),e.setAttribute("class","panel-footer"),a.setAttribute("class","panel panel-info"),a.setAttribute("style","margin-bottom: 0;");for(var g=f.querySelectorAll("tbody tr"),h=0;h<g.length;++h)//remove manual striping
g[h].removeAttribute("style");for(var i=f.querySelectorAll("th"),h=0;h<i.length;++h){var j=i[h].querySelector("."+this.sortClass);j&&(9660==j.innerText.charCodeAt(0)?j.setAttribute("class",this.sortClass+" glyphicon glyphicon-chevron-down"):9650==j.innerText.charCodeAt(0)&&j.setAttribute("class",this.sortClass+" glyphicon glyphicon-chevron-up"),j.innerHTML="")}for(var k="btn btn-default "+this.pagerButtonsClass,l=e.querySelector("#"+this.id+"_page_prev"),m=e.querySelector("#"+this.id+"_page_next"),n=l.parentElement,o=e.querySelectorAll("li"),h=0;h<o.length;++h)b(o[h]);n.setAttribute("class","btn-group"),l.innerHTML="";var p=c.cloneNode(!1);p.setAttribute("class","glyphicon glyphicon-arrow-left"),l.appendChild(p),m.innerHTML="";var q=c.cloneNode(!1);if(q.setAttribute("class","glyphicon glyphicon-arrow-right"),m.appendChild(q),this.pagerIncludeFirstAndLast){var r=e.querySelector("#"+this.id+"_page_first"),s=e.querySelector("#"+this.id+"_page_last");r.innerHTML="";var t=c.cloneNode(!1);t.setAttribute("class","glyphicon glyphicon-fast-backward"),r.appendChild(t),s.innerHTML="";var u=c.cloneNode(!1);u.setAttribute("class","glyphicon glyphicon-fast-forward"),s.appendChild(u)}for(var v=e.querySelectorAll("."+this.pagerButtonsClass),h=0;h<v.length;++h)v[h].setAttribute("class",k)},Dable.prototype.CheckForTable=function(a){
//Check for existing table
if(a){a.nodeType&&"div"==a.nodeName.toLowerCase()?a.hasAttribute("id")?this.id=a.getAttribute("id"):(this.id="Dable1",a.setAttribute("id","Dable1")):window.jQuery&&a instanceof jQuery&&a[0].nodeType?//jquery object
a[0].hasAttribute("id")?this.id=a[0].getAttribute("id"):(this.id="Dable1",a[0].setAttribute("id","Dable1")):this.id=a.toString();var b=document.getElementById(this.id);if(b&&this.rows&&this.rows.length<1){var c=b.querySelector("table");if(c){b.hasAttribute("class")&&(this.dableClass=b.getAttribute("class"));var d=this.GenerateTableFromHtml(c);
//Make it a Dable!
return d}}return this.id}return!1},Dable.prototype.GenerateTableFromHtml=function(a){if(!a)return console.log("Dable Error: No HTML table to generate dable from"),!1;a.hasAttribute("class")&&(this.tableClass=a.getAttribute("class"));var b=a.querySelector("thead");if(!b)return console.log("Dable Error: No thead element in table"),!1;var c=b.querySelectorAll("tr th"),d=a.querySelector("tfoot");d&&(this.tfoothtml=d.innerHTML);for(var e=[],f=0;f<c.length;++f)//add our column names
e.push(c[f].innerHTML);this.SetColumnNames(e);var g=a.querySelector("tbody").rows,h=[];g.length>1&&g[0].hasAttribute("class")&&g[1].hasAttribute("class")&&(this.evenRowClass=g[0].getAttribute("class"),this.oddRowClass=g[1].getAttribute("class"));for(var f=0;f<g.length;++f){h.push([]);for(var i=g[f].children,j=0;j<i.length;++j)h[f].push(i[j].innerHTML)}this.SetDataAsRows(h);var k=a.parentElement;return k.innerHTML="",k.id},Dable.prototype.Exists=function(a){var b=!1,c="";a?a&&a.nodeType&&"div"==a.nodeName.toLowerCase()?c=a.id:a&&window.jQuery&&a instanceof jQuery&&a[0].nodeType?c=a[0].id:a&&(c=a):c=this.id,c+="_header";var d=document.getElementById(c);return d&&(b=!0),b},Dable.prototype.BuildAll=function(a){var b=this.CheckForTable(a);if(!b)return!1;var c=document.getElementById(b);if(!c)return!1;if(this.async)this.asyncRequest(0,"",-1,!0,d.bind(function(a){if(a)throw a;c.innerHTML="";var b=this.BuildHeader(c),d=this.BuildTable(c),e=this.BuildFooter(c);c.appendChild(b),c.appendChild(d),c.appendChild(e),this.UpdateStyle(c)},this));else{c.innerHTML="";var e=this.BuildHeader(c),f=this.BuildTable(c),g=this.BuildFooter(c);c.appendChild(e),c.appendChild(f),c.appendChild(g),this.UpdateStyle(c)}},Dable.prototype.BuildHeader=function(a){if(!a)return!1;var b=document.createElement("div"),c=document.createElement("span"),e=document.createElement("select"),f=document.createElement("option"),g=document.createElement("input"),h=b.cloneNode(!1),i=c.cloneNode(!1);i.innerHTML="Show ",h.appendChild(i);for(var j=e.cloneNode(!1),k=0;k<this.pageSizes.length;++k){var l=f.cloneNode(!1);l.innerHTML=this.pageSizes[k],l.setAttribute("value",this.pageSizes[k]),j.appendChild(l)}var m=this;j.onchange=function(){var b=this,c=b.value;m.pageSize=parseInt(c),m.UpdateDisplayedRows(document.getElementById(m.id+"_body")),m.UpdateStyle(a)};for(var n=j.querySelectorAll("option"),k=0;k<n.length;++k)if(n[k].value==m.pageSize){n[k].selected=!0;break}h.appendChild(j);var o=b.cloneNode(!1),p=c.cloneNode(!1);p.innerHTML="Search ",o.appendChild(p);var q=g.cloneNode(!1);q.setAttribute("id",this.id+"_search"),q.onkeyup=d.doSearch(this),o.appendChild(q);var r=b.cloneNode(!1),s=b.cloneNode(!1);return s.id=this.id+"_header",s.appendChild(h),s.appendChild(o),s.appendChild(r),s},Dable.prototype.BuildTable=function(a){if(!a)return!1;for(var b=document.createElement("table"),c=document.createElement("thead"),e=document.createElement("th"),f=document.createElement("tbody"),g=document.createElement("tr"),h=document.createElement("span"),i=g.cloneNode(!1),j=0;j<this.columnData.length;++j){var k=e.cloneNode(!1),l=h.cloneNode(!1);if(l.innerHTML=this.columnData[j].FriendlyName+" ",k.appendChild(l),this.columnData[j].CustomSortFunc!==!1){var m=h.cloneNode(!1);m.setAttribute("class",this.sortClass),m.innerHTML="v",k.appendChild(m),k.onclick=d.doSort(this)}var n=h.cloneNode(!1);k.appendChild(n),k.setAttribute("data-tag",this.columnData[j].Tag),i.appendChild(k)}if(c.appendChild(i),b.appendChild(c),this.visibleRows=this.rows.slice(0),this.visibleRowObjects=this.rowObjects.slice(0),f=this.UpdateDisplayedRows(f),f.id=this.id+"_body",b.appendChild(f),this.tfoothtml){var o=document.createElement("tfoot");o.innerHTML=this.tfoothtml,b.appendChild(o)}return b},Dable.prototype.BuildFooter=function(a){if(!a)return!1;var b=document.createElement("div"),c=document.createElement("span"),d=(document.createElement("button"),b.cloneNode(!1)),e=c.cloneNode(!1);e.id=this.id+"_showing",d.appendChild(e);var f=this.BuildPager(h),g=b.cloneNode(!1),h=b.cloneNode(!1);return h.id=this.id+"_footer",h.innerHTML="",h.appendChild(d),h.appendChild(f),h.appendChild(g),this.UpdateFooter(h)},Dable.prototype.BuildPager=function(){var a=document.createElement("ul"),b=document.createElement("li"),c=document.createElement("a"),e=a.cloneNode(!1),f=this;if(this.pagerIncludeFirstAndLast){var g=b.cloneNode(!1),h=c.cloneNode(!1);h.innerHTML="First",g.setAttribute("class",this.pagerButtonsClass),g.id=this.id+"_page_first",g.onclick=this.FirstPage,this.pageNumber<=0&&(g.setAttribute("disabled","disabled"),g.onclick=d.noop),g.appendChild(h),e.appendChild(g)}var i=b.cloneNode(!1),j=c.cloneNode(!1);if(j.innerHTML="Prev",i.setAttribute("class",this.pagerButtonsClass),i.id=this.id+"_page_prev",i.onclick=this.PreviousPage,this.pageNumber<=0&&(i.setAttribute("disabled","disabled"),i.onclick=d.noop),i.appendChild(j),e.appendChild(i),this.pagerSize>0){var k=this.pageNumber-parseInt(this.pagerSize/2),l=k+this.pagerSize;this.pageNumber<=this.pagerSize/2?(// display from beginning
l=this.pagerSize,k=0,l>this.NumberOfPages()&&(l=this.NumberOfPages())):this.NumberOfPages()-this.pageNumber<=this.pagerSize/2&&(//display the last five pages
l=this.NumberOfPages(),k=this.NumberOfPages()-this.pagerSize);for(var m=k;m<l;++m){var n=b.cloneNode(!1),o=c.cloneNode(!1);o.innerHTML=(m+1).toString(),n.onclick=function(a){return function(){f.GoToPage(a)}}(m),n.setAttribute("class",this.pagerButtonsClass),m==this.pageNumber&&(n.setAttribute("disabled","disabled"),n.onclick=d.noop),n.appendChild(o),e.appendChild(n)}}var p=b.cloneNode(!1),q=c.cloneNode(!1);if(q.innerHTML="Next",p.setAttribute("class",this.pagerButtonsClass),p.id=this.id+"_page_next",p.onclick=d.bind(this.NextPage,this),this.NumberOfPages()-1==this.pageNumber&&(p.setAttribute("disabled","disabled"),p.onclick=d.noop),p.appendChild(q),e.appendChild(p),this.pagerIncludeFirstAndLast){var r=b.cloneNode(!1),s=c.cloneNode(!1);s.innerHTML="Last",r.setAttribute("class",this.pagerButtonsClass),r.id=this.id+"_page_last",r.onclick=d.bind(this.LastPage,this),this.NumberOfPages()-1==this.pageNumber&&(r.setAttribute("disabled","disabled"),r.onclick=d.noop),r.appendChild(s),e.appendChild(r)}return e},Dable.prototype.FirstPage=function(){this.pageNumber=0,this.GoToPage(this.pageNumber)},Dable.prototype.PreviousPage=function(){this.pageNumber-=1,this.GoToPage(this.pageNumber)},Dable.prototype.GoToPage=function(a){if(this.pageNumber=a,this.async&&(this.asyncStart>this.pageNumber*this.pageSize||this.pageNumber*this.pageSize>=this.asyncStart+this.asyncLength)){var b=this.pageNumber*this.pageSize,c=!0;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(c=!1),this.asyncRequest(b,this.currentFilter,this.sortColumn,c,d.bind(function(a){if(a)throw a;this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},this))}else this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},Dable.prototype.NextPage=function(){this.pageNumber+=1,this.GoToPage(this.pageNumber)},Dable.prototype.LastPage=function(){
//page number is 0 based
if(this.pageNumber=this.NumberOfPages()-1,this.async&&(this.asyncStart>this.pageNumber*this.pageSize||this.pageNumber*this.pageSize>this.asyncStart+this.asyncLength)){var a=0,b=1e3/this.pageSize-1;
//-1 for the page number and -1 to include current page
this.pageNumber-b>-1&&(a=(this.pageNumber-b)*this.pageSize);var c=!0;this.sortOrder.length>3&&"desc"==this.sortOrder.substr(0,4).toLowerCase()&&(c=!1),this.asyncRequest(a,this.currentFilter,this.sortColumn,c,d.bind(function(a){if(a)throw a;this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},this))}else this.UpdateDisplayedRows(document.getElementById(this.id+"_body")),this.UpdateStyle()},a.exports=Dable}(function(a){var b=function(a){"function"==typeof define&&define.amd&&define([],function(){return a})};return Object.defineProperty({},"exports",{set:function(c){a.Dable=c,b(c)},get:function(){return a.Dable}})}(this))}).call(this);